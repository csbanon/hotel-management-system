<!DOCTYPE html>
<html ng-app="form">
  <head>
    <title>Ol√©Hotels Booking</title>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script data-require="ui-bootstrap@0.12.1" data-semver="0.12.1" src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.12.1.min.js"></script>  </head>

  <body>
      <div class="container">
          <div class="row">
      <div class="col-md-8 order-md-2">
      <form name="mealForm" ng-controller="FormController as form" method="post" ng-submit="submitForm(mealForm.$valid)" novalidate="" ng-hide="message">
                <h2 class="mb-3">Book your Reservation</h2>
                <hr class="ng-mb-4">
                <h3 class="mb-3"> Date Information</h3>
            <!-- /.row & start date -->
            <div class="row">
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="startDate">Start Date                                                                                                                        <span class="required"> *</span>
                  </label>
                  <p class="input-group">
                    <input type="text" class="form-control" datepicker-popup="{{format}}" is-open="opened1" min-date="minDate" max-date="" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-model="user.startDate" name="startDate" id="startDate" ng-required="true" close-text="Close" ng-click="open($event)" />
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-default" ng-click="open($event)">
                        <i class="glyphicon glyphicon-calendar"></i>
                      </button>
                    </span>
                  </p>
                </div>
              </div>
              <!-- end date -->
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="endDate">End Date                                                                                                                        <span class="required"> *</span>
                  </label>
                  <p class="input-group">
                    <input type="text" ng-disabled="!user.startDate" class="form-control" datepicker-popup="{{format}}" ng-model="user.endDate" name="endDate" id="endDate" is-open="opened2" min-date="user.startDate" max-date="" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" ng-click="open2($event)" />
                    <span class="input-group-btn">
                      <button type="button" ng-disabled="!user.startDate" class="btn btn-default" ng-click="open2($event)">
                        <i class="glyphicon glyphicon-calendar"></i>
                      </button>
                    </span>
                  </p>
                </div>
              </div>
            </div>
            <!-- /.row & start date -->
            <hr class="ng-mb-4">
            <h3 class="mb-3"> Personal Info</h3>
            <div class="row">   
                <div class="form-group" ng-class="{ 'has-error' : mealForm.firstname.$invalid  && !mealForm.firstname.$pristine } ">
                    <div class="col-md-6 mb-3">
                        <label>First name</label>
                        <input type="text" name="firstname" class="form-control" ng-model="user.firstName" ng-minlength="1" ng-maxlength="30" required>
                      </div>
                    </div>
        <!-- -->
        <div class="form-group" ng-class="{ 'has-error' : mealForm.lastname.$invalid  && !mealForm.lastname.$pristine } ">
                <div class="col-md-6 mb-3">
                  <label>Last name</label>
                  <input type="text" name="lastname" class="form-control" ng-model="user.lastName" ng-minlength="1" ng-maxlength="30" required>
                  
                </div>
             </div>
         </div>
          <!--EMAIL INPUT VARIABLE-->
         <div class="form-group" ng-class="{ 'has-error' : mealForm.email.$invalid  && !mealForm.email.$pristine } ">
                <div class="col mb-3">
                <label for="email">Email (in the format: example@example.com) </label>
                <input type="email" name="email" class="form-control" ng-model="user.email">
              </div>
              </div>

        <!---PHONE INPUT VARIABLE-->
        <div class="form-group" ng-class="{ 'has-error' : mealForm.lastname.$invalid  && !mealForm.lastname.$pristine } ">
          <div class="col mb-3">
            <label>Phone number (numbers only, no spaces or "-")</label>
            <input type="text" name="phonenumber" class="form-control" ng-model="user.phoneNum" ng-minlength="1" ng-maxlength="10" required>
            <p ng-show="mealForm.phonenumber.$invalid && !mealForm.phonenumber.$pristine" class="help-block">Your phone number is not valid.</p>
              </div>
          </div>

      <hr class="ng-mb-4">

      <h3 class="mb-3"> Payment</h3>

      <div class="row">
        <div class="col-md-6 mb-3">
        <div class="form-group" ng-class="{ 'has-error' : mealForm.namecard.$invalid  && !mealForm.namecard.$pristine } ">
          <label>Name on card</label>
          <input type="text" name ="namecard" class="form-control" ng-model="user.nameCard" ng-minlength="1" ng-maxlength="50" required>
          <p ng-show="mealForm.namecard.$invalid && !mealForm.namecard.$pristine" class="help-block">Your name is not valid.</p>
          </div>
        </div>

      <!---CARDNUM INPUT VARIABLE-->
      <div class="col-md-6 mb-3">
        <div class="form-group" ng-class="{ 'has-error' : mealForm.cardnum.$invalid  && !mealForm.cardnum.$pristine } ">
        <label for="cc-number">Credit card number</label>
        <input type="text" name ="cardnum" class="form-control" ng-model="user.cardNum" ng-minlength="1" ng-maxlength="16" required>
        <p ng-show="mealForm.cardnum.$invalid && !mealForm.cardnum.$pristine" class="help-block">Your card number is not valid.</p>
      </div>
    </div>
  </div>
<div class="row">
      <div class="col-md-3 mb-3">
          <div class="form-group" ng-class="{'has-error' : mealForm.cardexp.$invalid  && !mealForm.cardexp.$pristine } ">
          <label>CVV</label>
          <input type="text" name ="cardcvv" class="form-control" ng-model="user.cardCVV" ng-minlength="1" ng-maxlength="3" required>
          <p ng-show="mealForm.cardcvv.$invalid && !mealForm.cardcvv.$pristine" class="help-block">Your Security Number(CVV) is not valid.</p>
        </div>
    </div>
    <div class="row">
      <div class="col-md-3 mb-3">
        <div class="form-group">
          <label>Expiration Date Month</label>
          <select name="cardmonth" ng-model = user.expdateMonth required>
            <optgroup label="months">
              <option ng-repeat="month in monthOptions" ng-value="expMonth"> {{month}} </md-option>
            </optgroup> 
          </select>
        </div>
        </div>
        <div class="col-md-3 mb-3">
        <div class="form-group">
          <label>Expiration Date Year</label>
          <select name="cardYear" ng-model = user.expdateYear required>
            <optgroup label="Year">
              <option ng-repeat="year in yearOptions" ng-value="expyear"> {{year}} </md-option>
            </optgroup> 
          </select>
        </div>
        </div>
    </div>

    <hr class="ng-mb-4">

    <div class="col-md-4 order-md-1 mb-4">
        <h4 class="mb-3">
            <span>Your Reservation Quote</span> 
        </h4>
        <h6>(Each room has a $50 flat fee per night)</h6>
        <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0">Check-In Date: {{dateCheck(user.startDate)}}</h6>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-condensed">
              <div>
                <h6 class="my-0">Check-out Date: {{dateCheck(user.endDate)}} </h6>
              </div>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-condensed">
                <div>
                  <h6 class="my-0">Sub Total: ${{subTotalCalc(user.startDate,user.endDate)}}</h6>
                </div>
              </li>
              <li class="list-group-item d-flex justify-content-between lh-condensed">
                  <div>
                    <h6 class="my-0">Tax: ${{taxCalc(user.startDate,user.endDate)}}  </h6>
                  </div>
                </li>
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                      <h4 class="my-0">Grand Total: ${{finCalc(user.startDate,user.endDate)}}   </h4>
                    </div>
                  </li>
            
          </ul>
      </div>
    <div class="form-group">
        <button type="submit" ng-disabled="mealForm.$invalid" value="Submit" class="btn btn-primary btn-lg btn-block">Book My Reservation!</button>
            </form> 



</div>

</div>

</div>

          
    <script src="script.js"></script>
  </body>

</html>
